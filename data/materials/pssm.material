
vertex_program PSSM/shadow_caster_vs cg
{
	source pssm.cg
	profiles vs_4_0 vs_2_0 arbvp1
	entry_point shadow_caster_vs

	default_params
	{
		param_named_auto wvpMat worldviewproj_matrix
		// this is the scene's depth range
		//param_named_auto depthRange			scene_depth_range
		//param_named_auto optimalAdustFactor	custom 0
	}
}


vertex_program PSSM/shadow_caster_instancing_vs cg
{
	source pssm.cg
	profiles vs_4_0 vs_2_0 arbvp1
	entry_point shadow_caster_instancing_vs

	default_params
	{
		param_named_auto viewProjMatrix viewproj_matrix
		// this is the scene's depth range
		//param_named_auto depthRange			scene_depth_range
		//param_named_auto optimalAdustFactor	custom 0
	}
}

fragment_program PSSM/shadow_caster_ps cg
{
	source pssm.cg
	profiles ps_4_0 ps_2_0 arbfp1
	entry_point shadow_caster_ps

	default_params
	{
	}
}

fragment_program PSSM/shadow_caster_alpha_ps cg
{
	source pssm.cg
	profiles ps_4_0 ps_2_0 arbfp1
	entry_point shadow_caster_alpha_ps

	default_params
	{
	}
}

material PSSM/shadow_caster
{
	technique
	{
		pass
		{
			fog_override true
			cull_hardware none
			vertex_program_ref PSSM/shadow_caster_vs
			{
			}

			fragment_program_ref PSSM/shadow_caster_alpha_ps
			{
			}
		}
	}
}

material PSSM/shadow_caster_instancing
{
	technique
	{
		pass
		{
			fog_override true
			cull_hardware none
			vertex_program_ref PSSM/shadow_caster_instancing_vs
			{
			}

			fragment_program_ref PSSM/shadow_caster_ps
			{
			}
		}
	}
}

material PSSM/shadow_caster_noalpha_instancing
{
	technique
	{
		pass
		{
			fog_override true
			vertex_program_ref PSSM/shadow_caster_instancing_vs
			{
			}

			fragment_program_ref PSSM/shadow_caster_ps
			{
			}
		}
	}
}

material PSSM/shadow_caster_noalpha
{
	technique
	{
		pass
		{
			fog_override true
			vertex_program_ref PSSM/shadow_caster_vs
			{
			}

			fragment_program_ref PSSM/shadow_caster_ps
			{
			}
		}
	}
}

material PSSM/shadow_caster_nocull
{
	technique
	{
		pass
		{
			fog_override true
			cull_hardware none
			vertex_program_ref PSSM/shadow_caster_vs
			{
			}

			fragment_program_ref PSSM/shadow_caster_ps
			{
			}
		}
	}
}
